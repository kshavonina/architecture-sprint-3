# Задание 1. Анализ и планирование

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

Пользователи могут: 
- Включать/выключать систему отопления в доме 
- Менять параметры системы отопления
- Устанавливать новую целевую температуру системы отопления
- Получать текущее состояние системы отопления.

**Мониторинг температуры:**

Пользователи могут только получать данные о текущей температуре системы отопления.

### 2. Анализ архитектуры монолитного приложения

Приложение написано на Java с БД PostgreSQL. Все запросы обрабатываются последовательно. Для развертывания требуется остановка всего приложения. Масштабирование ограничено из-за монолитной архитектуры.

Всё управление идёт от сервера к датчику. Данные о температуре также получаются через запрос от сервера к датчику.

Каждая установка сопровождается выездом специалиста по подключению системы отопления в доме к текущей версии системы.

Самостоятельно подключить свой датчик к системе пользователь не может.

### 3. Определение доменов и границы контекстов

На данный момент в контексте управления устройствами есть только один домен управления отоплением.

### **4. Проблемы монолитного решения**

- Трудно будет вести разработку, тк все члены команды будут вынуждены коммитить в один репозиторий, что неизбежно приведет к конфликтам и, как следствие, увеличению времени разработки нового функционала.
- При каждом новом изменении придётся тестировать приложение целиком, что приведёт к увеличению времени на тестирование нового функционала.
- Если какая-то из фич приложения будет пользоваться наибольшим спросом (например, наблюдение за домом), для обеспечения непрерывной работы и высокой доступности приложения придётся масштабировать всю систему целиком, что нецелесообразно с точки зрения использования ресурсов.
- Завязанность на текущий технологический стек. Каждую новую функциональность нужно будет "впихивать" в текущий подход вместо использования более удобного стека для конкретно этой фичи, что приведёт к сложностям в разработке, а также повлияет на конечную производительность системы для пользователя.
- Высокий риск ошибок опять же из-за того, что весь код приложения находится в одном месте, и изменения в одной его части могут затронуть другую часть.

### 5. Визуализация контекста системы — диаграмма С4

```markdown
/diagrams/monolith/Context.puml
```

# Задание 2. Проектирование микросервисной архитектуры

**Диаграмма контейнеров (Containers)**

```markdown
/diagrams/microservices/Container.puml
```

**Диаграмма компонентов (Components)**

На примере сервиса управления освещением:

```markdown
/diagrams/microservices/LightningService_Component.puml
```

**Диаграмма кода (Code)**

На примере сервиса управления освещением:

```markdown
/diagrams/microservices/LightningService_Code.puml
```

# Задание 3. Разработка ER-диаграммы

```markdown
/diagrams/microservices/ER.puml
```