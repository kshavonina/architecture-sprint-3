@startuml
title Smart Home ER Diagram

top to bottom direction

!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml

class User {
  +String id
  +String username
  +String email
  +List<House> houses
  +void addHouse()
  +void deleteHouse()
  +void changeUsername
  +void changeEmail()
}

class House {
  +String id
  +String name
  +String address
  +List<Room> rooms
  +List<Device> devices
  +List<Room> getRooms()
  +List<Device> getDevices()
  +void addRoom()
  +void deleteRoom()
  +void addDevice()
  +void deleteDevice()
}

class Room {
  +String id
  +String houseId
  +String name
  +List<Device> devices
  +List<Device> getDevices()
  +void addDevice()
  +void deleteDevice()
}

class Device {
  +String id
  +String typeId
  +String houseId
  +String name
  +String serialNumber
  +String manufacturer
  +Boolean isOn
  +List<TelemetryData> telemetry
  +void turnOn()
  +void turnOff()
  +TelemetryData getCurrentTelemetry()
}

class DeviceType {
  +String id
  +String type
  +void addDeviceType()
  +void deleteDeviceType()
  +List<DeviceType> getAllDeviceTypes()
}

class TelemetryData {
  +String id
  +String deviceId
  +String status
  +DateTime currentDateTime
  +String getStatus()
  +void turnOn()
  +void turnOff()
}

User "1" -- "0..*" House : has
House "1" -- "0..*" Room : has
House "1" -- "0..*" Device : has
Room "1" -- "0..*" Device : has
Device "1" -- "0..*" TelemetryData : has
Device "0..*" -- "1" DeviceType : has

@enduml